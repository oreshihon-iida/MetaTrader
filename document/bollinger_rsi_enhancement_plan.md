# ボリンジャーバンド＋RSI戦略強化計画

## 1. 現状分析

ボリンジャーバンド＋RSI逆張り戦略は、2020-2025年のバックテストで最も安定したパフォーマンスを示しました：

| 年 | トレード数 | 勝率 (%) | 総利益 (円) | プロフィットファクター |
|----|------------|----------|------------|------------------------|
| 2020 | 654 | 43.12 | 15.03 | 1.06 |
| 2021 | 649 | 38.69 | -36.73 | 0.88 |
| 2022 | 752 | 47.87 | 78.08 | 1.28 |
| 2023 | 669 | 46.34 | 52.01 | 1.20 |
| 2024 | 720 | 50.56 | 108.00 | 1.35 |
| 2025 | 241 | 51.04 | 37.99 | 1.45 |
| **平均** | **614** | **45.32** | **43.28** | **1.15** |

**強み**：
- 5年間で最も高い平均勝率（45.32%）
- 2022-2025年は特に好調（勝率47-51%台、プロフィットファクター1.2-1.45）
- 多数のトレード機会（年間約614回）を捉えている
- 2022年以降、継続的な改善傾向が見られる

**弱み**：
- 2021年は大きな損失（-36.73円）
- 勝率が目標（70%）を下回っている
- プロフィットファクターが目標（2.0）を下回っている

## 2. 強化目標

1. **勝率の向上**: 現在の平均45.32%から目標70%へ
2. **プロフィットファクターの向上**: 現在の平均1.15から目標2.0以上へ
3. **年間パフォーマンスの安定化**: 全年度で安定したプラスのリターンを実現

## 3. 強化アプローチ

### 3.1 パラメータ最適化

1. **RSIパラメータの最適化**
   - 現在の閾値（70/30）を調整
   - RSI計算期間の最適化（現在の14日間から調整）
   - 複数のRSI期間の組み合わせ（短期/長期RSIのクロスオーバー）

2. **ボリンジャーバンドパラメータの最適化**
   - 期間の最適化（現在の20日間から調整）
   - シグマ値の最適化（現在の2σから調整）
   - 複数のボリンジャーバンド期間の組み合わせ

3. **最適化手法**
   - グリッドサーチによるパラメータ最適化
   - ウォークフォワードテストによる過学習防止
   - 複数年データでの検証による堅牢性確保

### 3.2 フィルタリング条件の追加

1. **トレンドフィルター**
   - 移動平均線を使用したトレンド方向の判定
   - トレンド強度に基づくフィルタリング
   - ADXなどのトレンド指標の活用

2. **ボラティリティフィルター**
   - ATRに基づく市場ボラティリティの測定
   - 高/低ボラティリティ環境での異なる戦略パラメータ
   - ボラティリティに応じた利確/損切りレベルの調整

3. **時間帯フィルター**
   - 特定の時間帯（東京/ロンドン/NYセッション）に基づくフィルタリング
   - 曜日ごとの特性を考慮したフィルタリング
   - 重要経済指標発表前後の取引制限

### 3.3 エントリー/イグジット条件の改善

1. **エントリー条件の強化**
   - 価格アクションパターン（ピンバー、エンゲルフィングなど）の確認
   - 複数時間足の確認シグナル
   - サポート/レジスタンスレベルとの関連付け

2. **イグジット条件の最適化**
   - 動的な利確/損切りレベルの設定
   - 部分利確戦略の導入
   - トレーリングストップの実装

3. **ポジションサイジングの最適化**
   - リスクに基づくポジションサイジング
   - 勝率/損益比に基づく最適ポジションサイズの計算
   - 連続損失後のポジションサイズ調整

## 4. 実装計画

### フェーズ1: パラメータ最適化（優先度: 高）

1. **RSIパラメータの最適化**
   - RSI期間: 7, 14, 21日
   - 買いエントリー閾値: 20, 25, 30, 35
   - 売りエントリー閾値: 65, 70, 75, 80

2. **ボリンジャーバンドパラメータの最適化**
   - 期間: 10, 20, 30日
   - シグマ: 1.5, 2.0, 2.5, 3.0

3. **最適化フレームワークの実装**
   - パラメータ組み合わせの自動テスト
   - 結果の評価と最適パラメータの選択
   - 過学習防止のためのクロスバリデーション

### フェーズ2: フィルタリング条件の追加（優先度: 中）

1. **トレンドフィルター実装**
   - 移動平均線クロスオーバーの実装
   - ADXフィルターの実装
   - トレンド方向と逆張り条件の整合性確保

2. **ボラティリティフィルター実装**
   - ATR計算の実装
   - ボラティリティレベルの分類
   - ボラティリティに応じたパラメータ調整

3. **時間帯フィルター実装**
   - 時間帯ごとのパフォーマンス分析
   - 最適取引時間帯の特定
   - 時間帯フィルターの実装

### フェーズ3: エントリー/イグジット条件の改善（優先度: 中）

1. **エントリー条件の強化**
   - 価格アクションパターン検出の実装
   - 複数時間足確認ロジックの実装
   - エントリー条件の組み合わせテスト

2. **イグジット条件の最適化**
   - 動的利確/損切りレベル計算の実装
   - トレーリングストップの実装
   - 部分利確ロジックの実装

3. **ポジションサイジングの最適化**
   - リスクベースのポジションサイジング実装
   - 最適ポジションサイズ計算の実装
   - ポジションサイズ調整ロジックの実装

## 5. 検証方法

1. **バックテスト検証**
   - 2020-2025年の全期間でのバックテスト
   - 年ごとのパフォーマンス比較
   - 最適パラメータの安定性検証

2. **パフォーマンス指標**
   - 勝率（目標: 70%以上）
   - プロフィットファクター（目標: 2.0以上）
   - 最大ドローダウン
   - シャープレシオ

3. **堅牢性検証**
   - 異なる市場環境でのパフォーマンス
   - パラメータ感度分析
   - ウォークフォワードテスト

## 6. 次のステップ

1. フェーズ1のパラメータ最適化フレームワークの実装
2. 最適パラメータの特定と検証
3. フェーズ2のフィルタリング条件の実装
4. 強化された戦略の総合評価
