# 高性能ボリンジャーバンド＋RSI戦略の最適化計画

## 現状分析

現在の高性能戦略の実装では、以下の結果が得られています：

| 年 | トレード数 | 勝率 (%) | プロフィットファクター | 純利益 | ポジション制限到達回数 |
| --- | --- | --- | --- | --- | --- |
| 2010 | 20 | 25.00 | 2.02 | 19.83 | 52 |
| 2024 | 5 | 0.00 | 0.00 | -7.14 | 0 |
| 2025 | 17 | 29.41 | 0.72 | -14.55 | 25 |
| **合計** | **42** | **23.81** | **-** | **-1.87** | **77** |

現在のパラメータ設定：
- RSI閾値：30/70（標準的な設定）
- ボリンジャーバンド幅：2.0（広め）
- リスク・リワード比：1:5（SL:2.5, TP:12.5）

## 課題分析

1. **勝率が低い（23.81%）**：目標の70%に対して大幅に不足
2. **プロフィットファクターが不安定**：2010年は2.02だが、2024-2025年は低い
3. **トレード数が少ない（42回）**：シグナル生成条件が厳しすぎる可能性
4. **ポジション制限到達回数が多い（77回）**：シグナル品質の選別が不十分

## 最適化アプローチ

### 1. RSI閾値の最適化

現在の30/70から以下の組み合わせをテスト：
- 35/65：やや厳格化
- 40/60：中程度の厳格化
- 45/55：高度な厳格化

### 2. ボリンジャーバンド幅の調整

現在の2.0から以下の値をテスト：
- 1.8：やや狭め
- 1.6：中程度に狭め
- 1.4：かなり狭め

### 3. 市場環境検出アルゴリズムの改良

- ATR比率のしきい値調整（現在の1.5から1.3に）
- トレンド強度の計算方法の改善
- 価格変動比率のしきい値調整

### 4. 時間フィルターの最適化

- 時間帯の絞り込み：アジア時間（0:00-6:00 UTC）とロンドン時間前半（8:00-12:00 UTC）に集中
- 曜日フィルターの強化：月曜日と金曜日を完全に除外
- 月別フィルターの強化：2月、6月、11月、12月を除外

### 5. 価格アクションパターンの検出精度向上

- パターン検出条件の厳格化
- 新たなパターンの追加（ダブルボトム/トップ、ヘッドアンドショルダーなど）
- パターン確認のための追加指標（ストキャスティクスなど）の導入

## テスト計画

1. **パラメータ組み合わせテスト**：
   - RSI閾値（3種類）× ボリンジャーバンド幅（3種類）= 9通りの組み合わせ
   - 各組み合わせで2010年データを使用してバックテスト
   - 勝率とプロフィットファクターのバランスが最も良い組み合わせを選択

2. **選択したパラメータで2024-2025年のテスト**：
   - 2010年で最適化したパラメータが2024-2025年でも有効か確認
   - 必要に応じてパラメータを微調整

3. **フィルター最適化テスト**：
   - 時間フィルター、市場環境検出、価格アクションパターンの各改良を個別にテスト
   - 効果の高い改良を組み合わせて最終テスト

## 期待される改善効果

- **勝率**：23.81% → 70%以上
- **プロフィットファクター**：全期間で2.0以上
- **トレード数**：適切な数に増加（100-200程度）
- **純利益**：-1.87 → 50以上

## 実装スケジュール

1. パラメータ組み合わせテスト実装と実行
2. 最適パラメータの選定と2024-2025年テスト
3. フィルター最適化の実装とテスト
4. 最終パラメータセットの決定と全期間テスト
5. 結果の分析とドキュメント作成
