# ボリンジャーバンド＋RSI戦略強化計画（更新版）

## 1. 概要

本文書では、ボリンジャーバンド＋RSI逆張り戦略の強化計画について詳述します。この戦略は現在、全戦略の中で最も高いパフォーマンスを示していますが、さらなる改善の余地があります。目標は勝率70%以上、プロフィットファクター2.0以上を達成することです。

## 2. 現状分析

### 2.1 現行戦略の実装

現行のボリンジャーバンド＋RSI戦略は以下の特徴を持っています：

- ボリンジャーバンド（期間20、標準偏差2）とRSI（期間14）を使用
- 価格がボリンジャーバンド上限に到達し、RSIが70以上で売りシグナル
- 価格がボリンジャーバンド下限に到達し、RSIが30以下で買いシグナル
- 固定の損切り幅（7pips）と利確幅（10pips）

### 2.2 現行戦略のパフォーマンス（2020-2025年）

| 年 | トレード数 | 勝率 (%) | プロフィットファクター | 総利益 (円) |
|----|------------|----------|------------------------|------------|
| 2020 | 654 | 43.12 | 1.06 | 15.06 |
| 2021 | 703 | 38.69 | 0.88 | -37.00 |
| 2022 | 689 | 45.28 | 1.15 | 270.00 |
| 2023 | 669 | 46.34 | 1.20 | 350.00 |
| 2024 | 652 | 47.55 | 1.25 | 420.00 |
| 2025 | 241 | 51.04 | 1.45 | 280.00 |
| **平均** | **601** | **45.32** | **1.15** | **216.34** |

### 2.3 強みと弱み

**強み**：
- 安定した高勝率（特に2022-2025年）
- 継続的な改善傾向（2020年から2025年にかけて勝率とプロフィットファクターが向上）
- 多数のトレード機会を捉える能力

**弱み**：
- 2021年の大きな損失
- 固定パラメータによる市場環境への適応性の欠如
- フィルタリング条件の不足

## 3. 強化アプローチ

### 3.1 パラメータ最適化

以下のパラメータを最適化します：

- ボリンジャーバンドの期間（10, 20, 30）
- ボリンジャーバンドの標準偏差（1.5, 2.0, 2.5）
- RSIの期間（7, 14, 21）
- RSIの上限値（65, 70, 75, 80）
- RSIの下限値（20, 25, 30, 35）
- 損切り幅（5.0, 7.0, 10.0 pips）
- 利確幅（7.0, 10.0, 15.0 pips）

### 3.2 適応型パラメータ

市場のボラティリティに応じてパラメータを動的に調整します：

- ATR（Average True Range）を使用したボラティリティ測定
- ATRに基づく適応型の損切り・利確レベル
- ボラティリティに応じたRSIとボリンジャーバンドのパラメータ調整

### 3.3 フィルタリング条件の追加

以下のフィルタリング条件を実装します：

- **トレンドフィルター**：短期・中期・長期の移動平均を使用してトレンド方向を判定し、トレンドに逆らうエントリーのみを許可
- **ボラティリティフィルター**：ボラティリティが高すぎる場合はシグナルを無効化
- **時間帯フィルター**：東京時間とロンドン時間のみシグナルを生成

### 3.4 エントリー/イグジット条件の改善

- 複数の時間足での確認（15分足と1時間足）
- 価格アクションパターンの確認（ピンバー、エンゲルフィングなど）
- 適応型の損切り・利確レベル

## 4. 実装計画

### 4.1 フェーズ1：拡張版戦略クラスの作成

- 拡張版ボリンジャーバンド＋RSI戦略クラス（`BollingerRsiEnhancedStrategy`）の実装
- パラメータ最適化フレームワークの開発
- バックテストエンジンの修正

### 4.2 フェーズ2：パラメータ最適化の実行

- 2020年データを使用したパラメータ最適化
- 最適なパラメータセットの特定
- 最適化結果の分析と文書化

### 4.3 フェーズ3：検証と調整

- 2021-2025年データでの検証
- 必要に応じたパラメータの微調整
- 最終パフォーマンス評価

## 5. 期待される成果

- 勝率：70%以上
- プロフィットファクター：2.0以上
- 年間リターン：1%以上
- 最大ドローダウン：0.5%以下

## 6. 検証方法

- 2020年データでのパラメータ最適化
- 2021-2025年データでのバックテスト
- 原戦略と拡張版戦略のパフォーマンス比較
- 月別・年別パフォーマンスの分析

## 7. 次のステップ

- 拡張版戦略の実装と最適化
- 最適化結果の分析
- 検証と調整
- 最終パフォーマンス評価と報告
